# Database Migration for Theme System

```sql
-- Add theme metadata columns to layout_templates
ALTER TABLE layout_templates ADD COLUMN theme_meta JSON NOT NULL DEFAULT '{}';
ALTER TABLE layout_templates ADD COLUMN is_child BOOLEAN NOT NULL DEFAULT FALSE;
ALTER TABLE layout_templates ADD COLUMN parent_theme_id TEXT;

-- Create theme assets table
CREATE TABLE IF NOT EXISTS theme_assets (
    id TEXT PRIMARY KEY,
    theme_id TEXT NOT NULL,
    file_path TEXT NOT NULL,
    content TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (theme_id) REFERENCES layout_templates(id) ON DELETE CASCADE
);
```

**Execution Instructions:**
1. Run these SQL commands against the database
2. Verify schema changes with PRAGMA schema_version increment
3. Test with sample theme data insertion